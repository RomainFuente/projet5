!function(){!function(){function afficherOnglet(a,animations){void 0===animations&&(animations=!0);var transitionend,li=a.parentNode,div=a.parentNode.parentNode.parentNode,activeTab=div.querySelector(".tabs-content .active"),aAfficher=div.querySelector(a.getAttribute("href"));li.classList.contains("active")||(div.querySelector(".tabs .active").classList.remove("active"),li.classList.add("active"),animations?(activeTab.classList.add("fade"),activeTab.classList.remove("in"),transitionend=function(){this.classList.remove("fade"),this.classList.remove("active"),aAfficher.classList.add("active"),aAfficher.classList.add("fade"),aAfficher.offsetWidth,aAfficher.classList.add("in"),activeTab.removeEventListener("transitionend",transitionend),activeTab.removeEventListener("webkitTransitionEnd",transitionend),activeTab.removeEventListener("oTransitionEnd",transitionend)},activeTab.addEventListener("transitionend",transitionend),activeTab.addEventListener("webkitTransitionEnd",transitionend),activeTab.addEventListener("oTransitionEnd",transitionend)):(aAfficher.classList.add("active"),activeTab.classList.remove("active")))}for(var tabs=document.querySelectorAll(".tabs a"),i=0;i<tabs.length;i++)tabs[i].addEventListener("click",function(e){afficherOnglet(this)});function hashChange(e){var hash=window.location.hash,a=document.querySelector('a[href="'+hash+'"]');null===a||a.parentNode.classList.contains("active")||afficherOnglet(a,void 0!==e)}window.addEventListener("hashchange",hashChange),hashChange()}();var panier,options,responses,select,tabContent=document.querySelector(".tab-content"),liens=[],ficheContain=document.getElementById("ficheT"),fiche=void 0,config=document.createElement("select"),panierContain=document.getElementById("panier"),accueil=(localStorage,document.getElementById("accueil")),containButton=document.createElement("div");containButton.classList.add("contain-button");var containReturnButton=document.createElement("a");containReturnButton.setAttribute("href","#home");var returnButton=document.createElement("button"),containPushButton=document.createElement("a");containPushButton.setAttribute("href","#panier");var image,title,price,priceTitle,priceNumber,priceMonnaie,description,ficheDescription,label,addTotal,url,pushButton=document.createElement("button"),sommeTotal=0,total=document.createElement("p");function resetContain(){void 0!==fiche&&(fiche.innerHTML="",ficheContain.removeChild(fiche),fiche=void 0)}function forms(){var forms=document.createElement("forms"),lastName=document.createElement("label");lastName.setAttribute("for","inputLastName"),lastName.textContent="Nom :";var inputLastName=document.createElement("input");inputLastName.setAttribute("required",""),forms.appendChild(lastName),forms.appendChild(inputLastName);var firstName=document.createElement("label");firstName.setAttribute("for","inputFirstName"),firstName.textContent="Prénom : ";var inputFirstName=document.createElement("input");inputFirstName.setAttribute("required",""),forms.appendChild(firstName),forms.appendChild(inputFirstName);var adress=document.createElement("label");adress.setAttribute("for","inputAdress"),adress.textContent="Adresse :";var inputAdress=document.createElement("input");inputAdress.setAttribute("required",""),forms.appendChild(adress),forms.appendChild(inputAdress);var town=document.createElement("label");town.setAttribute("for","inputTown"),town.textContent="Code Postal :";var inputTown=document.createElement("input");inputTown.setAttribute("required",""),forms.appendChild(town),forms.appendChild(inputTown);var email=document.createElement("label");email.setAttribute("for","inputEmail"),email.textContent="Adresse Électronique :";var inputEmail=document.createElement("input");inputEmail.setAttribute("required",""),forms.appendChild(email),forms.appendChild(inputEmail);var submit=document.createElement("label");submit.setAttribute("for","inputSubmit");var inputSubmit=document.createElement("input");inputSubmit.setAttribute("required",""),inputSubmit.setAttribute("type","submit"),inputSubmit.classList.add("submit"),forms.appendChild(submit),forms.appendChild(inputSubmit),panierContain.appendChild(forms)}url="http://localhost:3000/api/cameras",new Promise(function(resolve,reject){var xhr=new window.XMLHttpRequest;xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status?resolve(xhr.responseText):reject(xhr))},xhr.open("get",url,!0),xhr.send()}).then(function(response){responses=JSON.parse(response);for(var i=0;i<responses.length;i++){response=responses[i],lien=document.createElement("a"),tabContent.appendChild(lien),lien.classList.add("article"),lien.href="#ficheT",id=document.createElement("p"),id.innerHTML=responses[i]._id,id.classList.add("hidden"),lien.appendChild(id),(image=new Image(225,150)).src=responses[i].imageUrl,lien.appendChild(image),(title=document.createElement("h2")).innerHTML="Modèle : "+responses[i].name,lien.appendChild(title),(price=document.createElement("div")).classList.add("price"),priceTitle=document.createElement("p"),(priceNumber=document.createElement("p")).classList.add("priceNumber"),priceMonnaie=document.createElement("p"),priceNumber.textContent=responses[i].price,priceTitle.innerHTML="Prix :",priceMonnaie.innerHTML="Euros",lien.appendChild(price),price.appendChild(priceTitle),price.appendChild(priceNumber),price.appendChild(priceMonnaie),(description=document.createElement("p")).innerHTML="Description : "+responses[i].description,description.classList.add("hidden"),lien.appendChild(description),(select=document.createElement("select")).textContent="Configuration : ",select.setAttribute("type","select"),select.setAttribute("id","config-select"),select.classList.add("hidden"),lien.appendChild(select),options=responses[i].lenses;for(var i2=0;i2<options.length;i2++){var option=document.createElement("option");option.setAttribute("value","value"),option.innerHTML=options[i2],select.appendChild(option)}}liens=document.querySelectorAll(".tab-content a");for(i=0;i<liens.length;i++)liens[i].addEventListener("click",function(){void 0===fiche&&((fiche=document.createElement("div")).classList.add("fiche"),ficheContain.appendChild(fiche)),fiche.innerHTML=event.currentTarget.innerHTML,(ficheDescription=document.createElement("p")).innerHTML=event.currentTarget.childNodes[4].innerHTML,fiche.appendChild(ficheDescription),(label=document.createElement("label")).setAttribute("for","config-select"),label.textContent="Configurez votre appareil :",fiche.appendChild(label),config.innerHTML=event.currentTarget.lastChild.innerHTML,fiche.appendChild(config),config.setAttribute("required",""),fiche.appendChild(containButton),containButton.appendChild(containReturnButton),containButton.appendChild(containPushButton),returnButton.textContent="Retour Accueil",pushButton.textContent="Ajouter au Panier",containReturnButton.appendChild(returnButton),containPushButton.appendChild(pushButton)})}),containReturnButton.addEventListener("click",resetContain),accueil.addEventListener("click",resetContain),containPushButton.addEventListener("click",function(){panier=document.createElement("div"),panierContain.appendChild(panier),panier.classList.add("panier"),panier.innerHTML=fiche.innerHTML,panier.removeChild(panier.children[9]),panier.removeChild(panier.children[8]),panier.removeChild(panier.children[7]),panier.removeChild(panier.children[6]);document.createElement("p");addTotal=document.querySelectorAll(".panier .priceNumber");for(var i=sommeTotal=0;i<addTotal.length;i++)sommeTotal+=Number(addTotal[i].innerHTML);total.innerHTML="Total de la commande : "+sommeTotal+" Euros",panierContain.appendChild(total),resetContain();var validButtonContain=document.createElement("div");validButtonContain.classList.add("contain-button");var containReturnButtonBis=containReturnButton;containReturnButtonBis.lastChild.textContent="Continuer mes achats",validButtonContain.appendChild(containReturnButtonBis),pushButton.textContent="Valider mon Panier";var pushButtonBis=pushButton;validButtonContain.appendChild(pushButtonBis),panierContain.appendChild(validButtonContain),pushButtonBis.addEventListener("click",forms)})}();